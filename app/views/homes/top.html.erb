<% if user_signed_in? %>

  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <span class="fs-3 fw-bold text-success">ウレテクレ</span>
        <div id="navbarRightAlignExample">
          <ul class="navbar-nav ms-auto mb-2 mb-0">
            <li class="nav-item">
              <% if current_user.image.present? %>
                <%= image_tag current_user.image.thumb.url %>
              <% else %>
                <%= image_tag 'default.png' %>
              <% end %>
            </li>
            <li class="nav-item">
              <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-mdb-dropdown-init data-mdb-ripple-init aria-expanded="false">
                  <%= current_user.name %>
                </button>
                <ul class="dropdown-menu">
                  <li><%= link_to "商品を出品する", new_item_path, class:"dropdown-item" %><li>
                  <li><%= link_to "商品の購入履歴", purchases_path, class:"dropdown-item" %><li>
                  <li><%= link_to "出品した商品一覧", items_path, class:"dropdown-item" %></li>
                  <li><%= link_to "アカウント情報", account_path, class:"dropdown-item" %></li>
                  <li><%= link_to "ログアウト", destroy_user_session_path, method: :delete, class:"dropdown-item" %></li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>  

<% else %>
  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <span class="fs-3 fw-bold text-success">ウレテクレ</span>
        <div id="navbarRightAlignExample">
          <ul class="navbar-nav ms-auto mb-2 mb-0">
            <li class="nav-item"><%= link_to "ログイン", new_user_session_path, class:"btn btn-primary" %></li>
            <li class="nav-item"><%= link_to "新規登録", new_user_registration_path, class:"btn btn-warning" %></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

<% end %>

<div class="wrapper d-flex flex-column min-vh-100">
  <main class="flex-grow-1 position-relative my-3 ms-5">
    <div class="position-relative top-0">
      <%= render 'shared/search' %>
      <div class="mt-5 ms-5">
        <%= render 'shared/explain' %>
      </div>
    </div>
  </main>
  
  <%= render 'shared/footer' %>
</div>
